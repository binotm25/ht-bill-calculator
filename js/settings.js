function addReq(e,a,o){$.ajax({type:"POST",url:url,data:{var1:e,var2:a},success:function(e){"added"==e?($("#modalBasicLabel").removeClass("text-danger"),$("#modalBasicLabel").addClass("text-success").text("Added In the Database"),$("#modal_alert_words").text("The "+o+" has been successfully added in the Database! If you want to add another then continue. If not close the form!"),$("#modalBasic").modal("show")):($("#modalBasicLabel").removeClass("text-success"),$("#modalBasicLabel").addClass("text-danger").text("Process failed!"),$("#modal_alert_words").text(e),$("#modalBasic").modal("show"))}})}function callAnAjax(e,a,o,d){(e||a||o)&&$.ajax({type:"POST",url:url,data:e,success:function(e){e==d?($("#modalBasicLabel").removeClass("text-danger"),$("#modalBasicLabel").addClass("text-success").text(a),$("#modal_alert_words").text(o),$("#modalBasic").modal("show")):($("#modalBasicLabel").removeClass("text-success"),$("#modalBasicLabel").addClass("text-danger").text("Process failed!"),$("#modal_alert_words").text(e),$("#modalBasic").modal("show"))}})}function ajaxReq(){}var url=window.location.href;$(document).ajaxStart(function(){$("#loading").show()}).ajaxStop(function(){$("#loading").hide()}),$(document).ready(function(){$("#gmForFeeder").change(function(){console.log("Minai"),$("#sub-form").empty();var e=!0,a=$(this).val();""==a?console.log("Ok"):$.ajax({type:"POST",url:url,data:{gm:a,checkForSub:e},success:function(e){var a=$.parseJSON(e);"object"==typeof a&&($.each(a,function(e,a){$.each(a,function(e,a){$("#sub-form").append('<option value="'+e+'">'+a+"</option>")})}),$(".sub-form").show(200))}})}),$("select.new-feed").on("click",function(){var e=$(this).attr("name");void 0!==e&&(console.log(e),$("#"+e).show(200))}),$("select.sub_id_tobe").change(function(){var e=$(this).parentsUntil(".modal-body").find(".new-feed");console.log($(this).parentsUntil(".modal-body").find(".new-feed").hasClass("new-feed"));var a=$(this).val();""==a||null==a?$(this).closest("div").addClass("has-error"):($(e).empty(),$.ajax({type:"POST",url:url,data:{getFeedersFromSub:a},success:function(a){var o=$.parseJSON(a);"object"==typeof o&&($.each(o,function(a,o){$.each(o,function(a,o){e.append('<option value="'+a+'">'+o+"</option>")})}),$(".sub-form-feed").show(200))}}))}),$("button").click(function(){var e=!1,a=$(this).attr("id");if("addSub"==a)$("#modalLarge-addSub").modal("show");else if("addFeeder"==a)$("#modalLarge-addFeeder").modal("show");else if("removeSub"==a)$("#modalLarge-removeSub").modal("show");else if("removeFeeder"==a)$("#modalLarge-removeFeeder").modal("show");else if("editFeeder"==a)$("#modalLarge-editFeeder").modal("show");else if("editSub"==a)$("#modalLarge-editSub").modal("show");else if("addSubForm"==a){var o=$("#sub-name").val(),d=$("#gm").val();if(""!=o&&null!=o||($("#sub-name").closest("div").addClass("has-error"),e=!0),""!=d&&null!=d||($("#gm").closest("div").addClass("has-error"),e=!0),!e){var s={sub_name:o,gm:d},t="Added In the Database",l="The Substation has been successfully added in the Database! If you want to add another then continue. If not close the form!";callAnAjax(s,t,l,"added")}}else if("addNewFeeder"==a){var n=$("#sub-form").val(),r=$("#feeder-name").val(),i=$("#gmForFeeder").val();if(console.log(n,r,i),""!=n&&null!=n||($("#sub-form").closest("div").addClass("has-error"),e=!0),""!=r&&null!=r||($("#feeder-name").closest("div").addClass("has-error"),e=!0),""!=i&&null!=i||($("#gmForFeeder").parent().addClass("has-error"),e=!0),!e){var s={sub_id:n,feeder_name:r},t="Added In the Database",l="The Feeder has been successfully added in the Database! If you want to add another then continue. If not close the form!";callAnAjax(s,t,l,"added")}}else if("remove-substation"==a){var c=$("#remove-Sub").val();if(""==removeSub||null==removeSub)$("#remove-Sub").closest("div").addClass("has-error");else{var u=!0,s={removeSubId:c,wathi_removeSubId:u},t="Request has been sent to the Concerned GM.",l="Until the Concerned GM approves the removal of the Sub-Station it won't take affect!";callAnAjax(s,t,l,"sent")}}else if("remove-feeder"==a)if(removeFeederId=$("#remove-feed").val(),""==removeFeederId||null==removeFeederId)$("#remove-feeder").closest("div").addClass("has-error");else{var m=!0,s={removeFeederId:removeFeederId,wathi_removeFeedId:m},t="Request has been sent to the Concerned GM.",l="Until the Concerned GM approves the removal of the Sub-Station it won't take affect!";callAnAjax(s,t,l,"sent")}else if("edit-substation"==a){var f=$("#edit-Sub").val(),h=$("#new-edited-sub").val();if(""==f||null==f||""==h||null==h)$("#edit-Sub").closest("div").addClass("has-error");else{console.log(typeof f+" - "+h);var s={editSubId:f,newEditSub:h};callAnAjax(s,"Your new updates has been saved!","Thank You!","yes")}}else if("edit-feeder"==a){var v=$("#edit").val(),b=$("#new-edited-feed").val(),w=$("#sub_id_tobe").val(),a=[w,v[0]];if(""==v||null==v||""==b||null==b)$("#edit-feed").closest("div").addClass("has-error");else{console.log(a+" - "+b);var s={editFeedId:a,newEditFeed:b};callAnAjax(s,"Your new updates has been saved!","Thank You!","yes")}}}),$("#modalBasic").on("hidden.bs.modal",function(){var e=$(this).find("#modalBasicLabel").hasClass("text-success");console.log(e),e&&location.reload()}),$(document).ajaxStart(function(){$("#loading").show()}).ajaxStop(function(){$("#loading").hide()})});